import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import AsyncStorage from '@react-native-async-storage/async-storage';
import * as Localization from 'expo-localization';

// Ресурсы переводов
const resources = {
  en: {
    translation: {
      appName: "KoreanStore",
      splash: {
        loading: "Loading...",
      },
      onboarding: {
        title1: "Find & Buy Korean Products",
        description1: "Discover authentic Korean cosmetics, snacks, and fashion items",
        title2: "Fast & Reliable Delivery",
        description2: "Get your orders delivered quickly with real-time tracking",
        title3: "Order Tracking",
        description3: "Track your order status at every step of the journey",
        title4: "Secure Payments",
        description4: "Multiple secure payment options for your peace of mind",
        next: "Next",
        skip: "Skip",
        getStarted: "Get Started",
      },
      common: {
        continue: "Continue",
        skip: "Skip",
      },
      auth: {
        login: "Login",
        register: "Register",
        email: "Email",
        phone: "Phone",
        password: "Password",
        confirmPassword: "Confirm Password",
        firstName: "First Name",
        lastName: "Last Name",
        forgotPassword: "Forgot Password?",
        noAccount: "Don't have an account?",
        hasAccount: "Already have an account?",
        signIn: "Sign In",
        signUp: "Sign Up",
        createAccount: "Create Account",
        orContinueWith: "Or continue with",
        rememberMe: "Remember me",
        validation: {
          required: "This field is required",
          invalidEmail: "Invalid email address",
          invalidPhone: "Invalid phone number",
          passwordLength: "Password must be at least 6 characters",
          passwordMismatch: "Passwords do not match",
          weakPassword: "Password is too weak",
        },
        errors: {
          invalidCredentials: "Invalid email or password",
          emailExists: "Email already exists",
          networkError: "Network error. Please try again",
          unknownError: "Something went wrong",
        },
        success: {
          login: "Login successful",
          registration: "Registration successful",
        },
      },
      home: {
        title: "KoreanStore",
        searchPlaceholder: "Search products...",
        categories: "Categories",
        seeAll: "See All",
        featured: "Featured Products",
        newArrivals: "New Arrivals",
        bestSellers: "Best Sellers",
        specialOffers: "Special Offers",
        addToCart: "Add to Cart",
        outOfStock: "Out of Stock",
        sale: "Sale",
        new: "New",
        price: "Price",
        sort: {
          default: "Default",
          priceLowHigh: "Price: Low to High",
          priceHighLow: "Price: High to Low",
          newest: "Newest",
          popularity: "Popularity",
          rating: "Rating",
        },
        filter: {
          title: "Filter",
          apply: "Apply Filters",
          clear: "Clear All",
          category: "Category",
          priceRange: "Price Range",
          rating: "Rating",
          availability: "Availability",
          inStock: "In Stock Only",
        },
      },
      categories: {
        cosmetics: "Cosmetics",
        skincare: "Skincare",
        snacks: "Snacks",
        fashion: "Fashion",
        homeDecor: "Home Decor",
        electronics: "Electronics",
        all: "All Products",
      },
      search: {
        title: "Search Products",
        placeholder: "What are you looking for?",
        recentSearches: "Recent Searches",
        popularSearches: "Popular Searches",
        clearRecent: "Clear Recent",
        noResults: "No products found",
        suggestions: "Try searching for:",
        categories: "Search by Categories",
        resetFilters: "Reset Filters",
        applyFilters: "Apply Filters",
        price: "Price",
        minPrice: "Min Price",
        maxPrice: "Max Price",
        sortBy: "Sort By",
        filters: "Filters",
        results: "results",
        showing: "Showing",
        of: "of",
      },
      filters: {
        newArrivals: "New Arrivals",
        onSale: "On Sale",
        inStock: "In Stock",
        outOfStock: "Out of Stock",
        freeShipping: "Free Shipping",
        highRated: "High Rated (4.5+)",
        brands: "Brands",
        colors: "Colors",
        sizes: "Sizes",
        all: "All",
        apply: "Apply",
        clearAll: "Clear All",
        priceRange: "Price Range",
        customerRating: "Customer Rating",
        availability: "Availability",
        shipping: "Shipping",
        brand: "Brand",
        color: "Color",
        size: "Size",
        pending: "Pending",
        processing: "Processing",
        shipped: "Shipped",
        delivered: "Delivered",
        cancelled: "Cancelled",
        returned: "Returned",
        last30Days: "Last 30 Days",
        last6Months: "Last 6 Months",
        lastYear: "Last Year",
        customRange: "Custom Range",
      },
      sort: {
        relevance: "Relevance",
        newest: "Newest",
        priceLowHigh: "Price: Low to High",
        priceHighLow: "Price: High to Low",
        popularity: "Popularity",
        rating: "Rating",
        bestMatch: "Best Match",
      },
      product: {
        addToCart: "Add to Cart",
        buyNow: "Buy Now",
        description: "Description",
        specifications: "Specifications",
        reviews: "Reviews",
        relatedProducts: "Related Products",
        share: "Share",
        favorite: "Add to Favorites",
        removeFavorite: "Remove from Favorites",
        inStock: "In Stock",
        outOfStock: "Out of Stock",
        quantity: "Quantity",
        shipping: "Shipping",
        freeShipping: "Free Shipping",
        estimatedDelivery: "Estimated Delivery",
        days: "days",
        color: "Color",
        size: "Size",
        selectOption: "Select Option",
        sellerInfo: "Seller Information",
        contactSeller: "Contact Seller",
        returnPolicy: "Return Policy",
        warranty: "Warranty",
        viewAll: "View All",
        writeReview: "Write a Review",
        rating: "Rating",
        allReviews: "All Reviews",
        thankYou: "Thank you for your purchase!",
        addedToCart: "Added to cart",
        addedToFavorites: "Added to favorites",
        shareProduct: "Share Product",
      },
      buttons: {
        continueShopping: "Continue Shopping",
        viewCart: "View Cart",
        checkout: "Checkout",
      },
      checkout: {
        title: "Checkout",
        step1: "Shipping Information",
        step2: "Order Confirmation",
        next: "Next",
        back: "Back",
        placeOrder: "Place Order",
        continueShopping: "Continue Shopping",
        deliveryAddress: "Delivery Address",
        addNewAddress: "Add New Address",
        selectAddress: "Select Address",
        contactInfo: "Contact Information",
        shippingMethod: "Shipping Method",
        paymentMethod: "Payment Method",
        orderSummary: "Order Summary",
        items: "Items",
        shipping: "Shipping",
        tax: "Tax",
        total: "Total",
        subtotal: "Subtotal",
        discount: "Discount",
        selectShipping: "Select Shipping Method",
        selectPayment: "Select Payment Method",
        saveAddress: "Save this address",
        deliveryTime: "Delivery Time",
        free: "Free",
        standard: "Standard",
        express: "Express",
        cashOnDelivery: "Cash on Delivery",
        creditCard: "Credit Card",
        paypal: "PayPal",
        applePay: "Apple Pay",
        googlePay: "Google Pay",
        orderSuccess: "Order Placed Successfully!",
        orderNumber: "Order Number",
        estimatedDelivery: "Estimated Delivery",
        trackOrder: "Track Your Order",
        thankYou: "Thank you for your purchase!",
        confirmation: "Order Confirmation",
      },
      form: {
        fullName: "Full Name",
        phoneNumber: "Phone Number",
        email: "Email Address",
        address: "Street Address",
        apartment: "Apartment, Suite, etc.",
        city: "City",
        state: "State/Province",
        zipCode: "ZIP/Postal Code",
        country: "Country",
        saveAddress: "Save address for future use",
        notes: "Delivery Notes (Optional)",
        notesPlaceholder: "Any special instructions for delivery",
      },
      validation: {
        phoneRequired: "Phone number is required",
        phoneInvalid: "Invalid phone number",
        emailRequired: "Email is required",
        emailInvalid: "Invalid email address",
        addressRequired: "Address is required",
        cityRequired: "City is required",
        countryRequired: "Country is required",
        zipRequired: "ZIP code is required",
        cardNumberRequired: "Card number is required",
        cardNumberInvalid: "Invalid card number",
        expiryRequired: "Expiry date is required",
        expiryInvalid: "Invalid expiry date",
        cvvRequired: "CVV is required",
        cvvInvalid: "Invalid CVV",
        nameRequired: "Cardholder name is required",
      },
      payment: {
        title: "Payment",
        selectMethod: "Select Payment Method",
        creditCard: "Credit/Debit Card",
        paypal: "PayPal",
        applePay: "Apple Pay",
        googlePay: "Google Pay",
        cashOnDelivery: "Cash on Delivery",
        bankTransfer: "Bank Transfer",
        cardNumber: "Card Number",
        expiryDate: "Expiry Date",
        cvv: "CVV",
        cardHolder: "Cardholder Name",
        saveCard: "Save card for future payments",
        pay: "Pay Now",
        processing: "Processing Payment...",
        success: "Payment Successful!",
        failed: "Payment Failed",
        retry: "Try Again",
        securePayment: "Secure Payment",
        poweredBy: "Powered by",
        totalAmount: "Total Amount",
        orderTotal: "Order Total",
        transactionId: "Transaction ID",
        paymentMethod: "Payment Method",
        paymentDetails: "Payment Details",
        billingAddress: "Billing Address",
        sameAsShipping: "Same as shipping address",
        addNewCard: "Add New Card",
        savedCards: "Saved Cards",
        useDifferentCard: "Use Different Card",
        processingTime: "Processing may take a few seconds",
        verification: "Verifying payment details",
        thankYou: "Thank you for your payment!",
        redirecting: "Redirecting to payment gateway...",
        card: 'Credit/Debit Card',
        bank: 'Bank Transfer',
        cash: 'Cash on Delivery',
        paid: 'Paid',
      },
      status: {
        pending: "Pending",
        processing: "Processing",
        completed: "Completed",
        failed: "Failed",
        refunded: "Refunded",
        cancelled: "Cancelled",
      },
      tracking: {
        title: "Order Tracking",
        orderNumber: "Order Number",
        orderDate: "Order Date",
        estimatedDelivery: "Estimated Delivery",
        deliveryAddress: "Delivery Address",
        currentStatus: "Current Status",
        statusTimeline: "Status Timeline",
        trackAnother: "Track Another Order",
        viewDetails: "View Order Details",
        contactSupport: "Contact Support",
        shareTracking: "Share Tracking",
        needHelp: "Need Help?",
        deliveredOn: "Delivered on",
        expectedBy: "Expected by",
        delayed: "Delayed",
        onTime: "On Time",
        trackShipment: "Track Shipment",
        deliveryProgress: "Delivery Progress",
        packageInfo: "Package Information",
        carrier: "Carrier",
        trackingNumber: "Tracking Number",
        lastUpdate: "Last Update",
        nextUpdate: "Next Update",
        refresh: "Refresh Status",
        autoRefresh: "Auto-Refresh Every 30s",
        mapView: "Map View",
        listView: "List View",
      },
      orderStatus: {
        placed: "Order Placed",
        pending: 'Pending',
        confirmed: 'Confirmed',
        processing: 'Processing',
        packaged: 'Packaged',
        shipped: 'Shipped',
        outForDelivery: 'Out for Delivery',
        delivered: 'Delivered',
        cancelled: 'Cancelled',
        returned: 'Returned',
        refunded: 'Refunded',
      },
      timeline: {
        orderReceived: "Order received",
        paymentConfirmed: "Payment confirmed",
        preparingOrder: "Preparing your order",
        qualityCheck: "Quality check",
        packaging: "Packaging",
        handedToCarrier: "Handed to carrier",
        inTransit: "In transit",
        outForDelivery: "Out for delivery",
        delivered: "Delivered to your address",
        estimatedTime: "Estimated time",
        actualTime: "Actual time",
        delayed: "Delayed by {hours} hours",
        aheadOfSchedule: "Ahead of schedule",
      },
      delivery: {
        progress: "Delivery Progress",
        eta: "ETA",
        carrier: "Carrier",
        driver: "Driver",
        contactDriver: "Contact Driver",
        liveTracking: "Live Tracking",
        deliveryWindow: "Delivery Window",
        morning: "Morning (9AM - 12PM)",
        afternoon: "Afternoon (12PM - 5PM)",
        evening: "Evening (5PM - 9PM)",
        signatureRequired: "Signature Required",
        leaveAtDoor: "Leave at Door",
        deliveryNotes: "Delivery Notes",
      },
      orders: {
        title: "My Orders",
        history: "Order History",
        recent: "Recent Orders",
        all: "All Orders",
        active: "Active Orders",
        completed: "Completed",
        cancelled: "Cancelled",
        emptyTitle: "No Orders Yet",
        emptyDescription: "You haven't placed any orders yet.",
        startShopping: "Start Shopping",
        filter: "Filter Orders",
        sort: "Sort By",
        search: "Search orders...",
        order: "Order",
        date: "Date",
        items: "Items",
        amount: "Amount",
        status: "Status",
        viewDetails: "View Details",
        trackOrder: "Track Order",
        reorder: "Reorder",
        writeReview: "Write Review",
        cancelOrder: "Cancel Order",
        returnItem: "Return Item",
        buyAgain: "Buy Again",
        invoice: "View Invoice",
        downloadInvoice: "Download Invoice",
        needHelp: "Need help with this order?",
        contactSupport: "Contact Support",
        estimatedDelivery: "Estimated Delivery",
        deliveredOn: "Delivered on",
        orderPlaced: "Order Placed",
        orderTotal: "Order Total",
        shippingAddress: "Shipping Address",
        paymentMethod: "Payment Method",
        orderSummary: "Order Summary",
      },
      sortOptions: {
        newest: "Newest First",
        oldest: "Oldest First",
        highestAmount: "Highest Amount",
        lowestAmount: "Lowest Amount",
      },
      orderDetails: {
        statusPending: 'Your order is being reviewed',
        statusConfirmed: 'Order confirmed, preparing to ship',
        statusProcessing: 'We are processing your order',
        statusShipped: 'Your order is on the way',
        statusDelivered: 'Your order has been delivered',
        statusCancelled: 'Order has been cancelled',
        statusReturned: 'Order has been returned',
        tracking: 'Tracking Information',
        notes: 'Order Notes',
        cannotOpenInvoice: 'Cannot open invoice. Please try again later.',
        invoiceError: 'Error opening invoice',
        supportMessage: 'How would you like to contact our support team?',
        noFilterResults: 'No orders match your filters',
        trackingNotAvailable: 'Tracking details are not available at the moment.',
        reorderConfirm: 'Add all items from this order to your cart?',
        reorderSuccess: 'Items have been added to your cart!',
        cancelSuccess: 'Order has been cancelled successfully',
      },
    },
  },
  ru: {
    translation: {
      appName: "KoreanStore",
      splash: {
        loading: "Загрузка...",
      },
      onboarding: {
        title1: "Найдите и купите товары из Кореи",
        description1: "Откройте для себя аутентичные корейские косметические средства, закуски и модные товары",
        title2: "Быстрая и надежная доставка",
        description2: "Получайте свои заказы быстро с отслеживанием в реальном времени",
        title3: "Отслеживание заказа",
        description3: "Отслеживайте статус заказа на каждом этапе пути",
        title4: "Безопасные платежи",
        description4: "Несколько безопасных способов оплаты для вашего спокойствия",
        next: "Далее",
        skip: "Пропустить",
        getStarted: "Начать",
      },
      common: {
        continue: "Продолжить",
        skip: "Пропустить",
      },
      auth: {
        login: "Вход",
        register: "Регистрация",
        email: "Электронная почта",
        phone: "Телефон",
        password: "Пароль",
        confirmPassword: "Подтвердите пароль",
        firstName: "Имя",
        lastName: "Фамилия",
        forgotPassword: "Забыли пароль?",
        noAccount: "Нет аккаунта?",
        hasAccount: "Уже есть аккаунт?",
        signIn: "Войти",
        signUp: "Зарегистрироваться",
        createAccount: "Создать аккаунт",
        orContinueWith: "Или продолжить с",
        rememberMe: "Запомнить меня",
        validation: {
          required: "Это поле обязательно",
          invalidEmail: "Некорректный адрес почты",
          invalidPhone: "Некорректный номер телефона",
          passwordLength: "Пароль должен содержать минимум 6 символов",
          passwordMismatch: "Пароли не совпадают",
          weakPassword: "Пароль слишком простой",
        },
        errors: {
          invalidCredentials: "Неверный email или пароль",
          emailExists: "Такой email уже существует",
          networkError: "Ошибка сети. Попробуйте снова",
          unknownError: "Что-то пошло не так",
        },
        success: {
          login: "Вход выполнен успешно",
          registration: "Регистрация прошла успешно",
        },
      },
      home: {
        title: "KoreanStore",
        searchPlaceholder: "Поиск товаров...",
        categories: "Категории",
        seeAll: "Все",
        featured: "Рекомендуемые",
        newArrivals: "Новинки",
        bestSellers: "Бестселлеры",
        specialOffers: "Спецпредложения",
        addToCart: "В корзину",
        outOfStock: "Нет в наличии",
        sale: "Скидка",
        new: "Новый",
        price: "Цена",
        sort: {
          default: "По умолчанию",
          priceLowHigh: "Цена: по возрастанию",
          priceHighLow: "Цена: по убыванию",
          newest: "Сначала новые",
          popularity: "По популярности",
          rating: "По рейтингу",
        },
        filter: {
          title: "Фильтр",
          apply: "Применить",
          clear: "Очистить все",
          category: "Категория",
          priceRange: "Диапазон цен",
          rating: "Рейтинг",
          availability: "Наличие",
          inStock: "Только в наличии",
        },
      },
      categories: {
        cosmetics: "Косметика",
        skincare: "Уход за кожей",
        snacks: "Снэки",
        fashion: "Мода",
        homeDecor: "Декор для дома",
        electronics: "Электроника",
        all: "Все товары",
      },
      search: {
        title: "Поиск товаров",
        placeholder: "Что вы ищете?",
        recentSearches: "Недавние поиски",
        popularSearches: "Популярные поиски",
        clearRecent: "Очистить историю",
        noResults: "Товары не найдены",
        suggestions: "Попробуйте поискать:",
        categories: "Поиск по категориям",
        resetFilters: "Сбросить фильтры",
        applyFilters: "Применить фильтры",
        price: "Цена",
        minPrice: "Мин. цена",
        maxPrice: "Макс. цена",
        sortBy: "Сортировать по",
        filters: "Фильтры",
        results: "результаты",
        showing: "Показано",
        of: "из",
      },
      filters: {
        newArrivals: "Новинки",
        onSale: "Распродажа",
        inStock: "В наличии",
        outOfStock: "Нет в наличии",
        freeShipping: "Бесплатная доставка",
        highRated: "Высокий рейтинг (4.5+)",
        brands: "Бренды",
        colors: "Цвета",
        sizes: "Размеры",
        all: "Все",
        apply: "Применить",
        clearAll: "Очистить всё",
        priceRange: "Диапазон цен",
        customerRating: "Рейтинг покупателей",
        availability: "Наличие",
        shipping: "Доставка",
        brand: "Бренд",
        color: "Цвет",
        size: "Размер",
        pending: "В ожидании",
        processing: "Обработка",
        shipped: "Отправлен",
        delivered: "Доставлен",
        cancelled: "Отменен",
        returned: "Возвращен",
        last30Days: "Последние 30 дней",
        last6Months: "Последние 6 месяцев",
        lastYear: "Последний год",
        customRange: "Выбрать период",
      },
      sort: {
        relevance: "Релевантность",
        newest: "Новые",
        priceLowHigh: "Цена: по возрастанию",
        priceHighLow: "Цена: по убыванию",
        popularity: "Популярность",
        rating: "Рейтинг",
        bestMatch: "Лучшее соответствие",
      },
      product: {
        addToCart: "В корзину",
        buyNow: "Купить сейчас",
        description: "Описание",
        specifications: "Характеристики",
        reviews: "Отзывы",
        relatedProducts: "Похожие товары",
        share: "Поделиться",
        favorite: "В избранное",
        removeFavorite: "Убрать из избранного",
        inStock: "В наличии",
        outOfStock: "Нет в наличии",
        quantity: "Количество",
        shipping: "Доставка",
        freeShipping: "Бесплатная доставка",
        estimatedDelivery: "Примерный срок доставки",
        days: "дней",
        color: "Цвет",
        size: "Размер",
        selectOption: "Выберите вариант",
        sellerInfo: "Информация о продавце",
        contactSeller: "Связаться с продавцом",
        returnPolicy: "Возврат",
        warranty: "Гарантия",
        viewAll: "Посмотреть все",
        writeReview: "Написать отзыв",
        rating: "Рейтинг",
        allReviews: "Все отзывы",
        thankYou: "Спасибо за покупку!",
        addedToCart: "Добавлено в корзину",
        addedToFavorites: "Добавлено в избранное",
        shareProduct: "Поделиться товаром",
      },
      buttons: {
        continueShopping: "Продолжить покупки",
        viewCart: "Перейти в корзину",
        checkout: "Оформить заказ",
      },
      checkout: {
        title: "Оформление заказа",
        step1: "Информация о доставке",
        step2: "Подтверждение заказа",
        next: "Далее",
        back: "Назад",
        placeOrder: "Оформить заказ",
        continueShopping: "Продолжить покупки",
        deliveryAddress: "Адрес доставки",
        addNewAddress: "Добавить новый адрес",
        selectAddress: "Выберите адрес",
        contactInfo: "Контактная информация",
        shippingMethod: "Способ доставки",
        paymentMethod: "Способ оплаты",
        orderSummary: "Итог заказа",
        items: "Товары",
        shipping: "Доставка",
        tax: "Налог",
        total: "Итого",
        subtotal: "Промежуточный итог",
        discount: "Скидка",
        selectShipping: "Выберите способ доставки",
        selectPayment: "Выберите способ оплаты",
        saveAddress: "Сохранить этот адрес",
        deliveryTime: "Время доставки",
        free: "Бесплатно",
        standard: "Стандартная",
        express: "Экспресс",
        cashOnDelivery: "Наложенный платеж",
        creditCard: "Банковская карта",
        paypal: "PayPal",
        applePay: "Apple Pay",
        googlePay: "Google Pay",
        orderSuccess: "Заказ успешно оформлен!",
        orderNumber: "Номер заказа",
        estimatedDelivery: "Примерное время доставки",
        trackOrder: "Отследить заказ",
        thankYou: "Спасибо за покупку!",
        confirmation: "Подтверждение заказа",
      },
      form: {
        fullName: "ФИО получателя",
        phoneNumber: "Номер телефона",
        email: "Адрес электронной почты",
        address: "Улица, дом",
        apartment: "Квартира, офис и т.д.",
        city: "Город",
        state: "Область/Регион",
        zipCode: "Почтовый индекс",
        country: "Страна",
        saveAddress: "Сохранить адрес для будущих заказов",
        notes: "Комментарий к доставке (необязательно)",
        notesPlaceholder: "Особые инструкции для доставки",
      },
      validation: {
        phoneRequired: "Укажите номер телефона",
        phoneInvalid: "Неверный номер телефона",
        emailRequired: "Укажите email",
        emailInvalid: "Неверный email адрес",
        addressRequired: "Укажите адрес",
        cityRequired: "Укажите город",
        countryRequired: "Укажите страну",
        zipRequired: "Укажите почтовый индекс",
        cardNumberRequired: "Введите номер карты",
        cardNumberInvalid: "Неверный номер карты",
        expiryRequired: "Введите срок действия",
        expiryInvalid: "Неверный срок действия",
        cvvRequired: "Введите CVV код",
        cvvInvalid: "Неверный CVV код",
        nameRequired: "Введите имя владельца карты",
      },
      payment: {
        title: "Оплата",
        selectMethod: "Выберите способ оплаты",
        creditCard: "Банковская карта",
        paypal: "PayPal",
        applePay: "Apple Pay",
        googlePay: "Google Pay",
        cashOnDelivery: "Наложенный платеж",
        bankTransfer: "Банковский перевод",
        cardNumber: "Номер карты",
        expiryDate: "Срок действия",
        cvv: "CVV код",
        cardHolder: "Имя владельца карты",
        saveCard: "Сохранить карту для будущих платежей",
        pay: "Оплатить сейчас",
        processing: "Обработка платежа...",
        success: "Оплата прошла успешно!",
        failed: "Ошибка оплаты",
        retry: "Попробовать снова",
        securePayment: "Безопасный платеж",
        poweredBy: "Технология",
        totalAmount: "Сумма к оплате",
        orderTotal: "Итог заказа",
        transactionId: "ID транзакции",
        paymentMethod: "Способ оплаты",
        paymentDetails: "Детали платежа",
        billingAddress: "Платежный адрес",
        sameAsShipping: "Совпадает с адресом доставки",
        addNewCard: "Добавить новую карту",
        savedCards: "Сохраненные карты",
        useDifferentCard: "Использовать другую карту",
        processingTime: "Обработка может занять несколько секунд",
        verification: "Проверка платежных данных",
        thankYou: "Спасибо за оплату!",
        redirecting: "Перенаправление на платежный шлюз...",
        card: 'Кредитная/Дебетовая карта',
        bank: 'Банковский перевод',
        cash: 'Наличные при доставке',
        paid: 'Оплачен',
      },
      status: {
        pending: "В ожидании",
        processing: "Обработка",
        completed: "Завершено",
        failed: "Ошибка",
        refunded: "Возврат",
        cancelled: "Отменено",
      },
      tracking: {
        title: "Отслеживание заказа",
        orderNumber: "Номер заказа",
        orderDate: "Дата заказа",
        estimatedDelivery: "Примерная доставка",
        deliveryAddress: "Адрес доставки",
        currentStatus: "Текущий статус",
        statusTimeline: "История статусов",
        trackAnother: "Отследить другой заказ",
        viewDetails: "Посмотреть детали заказа",
        contactSupport: "Связаться с поддержкой",
        shareTracking: "Поделиться отслеживанием",
        needHelp: "Нужна помощь?",
        deliveredOn: "Доставлен",
        expectedBy: "Ожидается к",
        delayed: "Задержка",
        onTime: "Вовремя",
        trackShipment: "Отследить отправление",
        deliveryProgress: "Прогресс доставки",
        packageInfo: "Информация о посылке",
        carrier: "Перевозчик",
        trackingNumber: "Трек-номер",
        lastUpdate: "Последнее обновление",
        nextUpdate: "Следующее обновление",
        refresh: "Обновить статус",
        autoRefresh: "Автообновление каждые 30с",
        mapView: "Вид карты",
        listView: "Вид списка",
      },
      orderStatus: {
        placed: "Заказ оформлен",
        processing: "Обработка",
        packaged: "Упакован",
        shipped: "Отправлен",
        outForDelivery: "В доставке",
        delivered: "Доставлен",
        cancelled: "Отменен",
        returned: "Возвращен",
        refunded: "Возврат средств",
        pending: 'В ожидании',
        confirmed: 'Подтвержден',
      },
      timeline: {
        orderReceived: "Заказ получен",
        paymentConfirmed: "Оплата подтверждена",
        preparingOrder: "Подготовка заказа",
        qualityCheck: "Проверка качества",
        packaging: "Упаковка",
        handedToCarrier: "Передан перевозчику",
        inTransit: "В пути",
        outForDelivery: "В доставке",
        delivered: "Доставлен по адресу",
        estimatedTime: "Примерное время",
        actualTime: "Фактическое время",
        delayed: "Задержка на {hours} часов",
        aheadOfSchedule: "Опережает график",
      },
      delivery: {
        progress: "Прогресс доставки",
        eta: "Ожидаемое время",
        carrier: "Перевозчик",
        driver: "Водитель",
        contactDriver: "Связаться с водителем",
        liveTracking: "Отслеживание в реальном времени",
        deliveryWindow: "Окно доставки",
        morning: "Утро (9:00 - 12:00)",
        afternoon: "День (12:00 - 17:00)",
        evening: "Вечер (17:00 - 21:00)",
        signatureRequired: "Требуется подпись",
        leaveAtDoor: "Оставить у двери",
        deliveryNotes: "Примечания к доставке",
      },
      orders: {
        title: "Мои заказы",
        history: "История заказов",
        recent: "Недавние заказы",
        all: "Все заказы",
        active: "Активные заказы",
        completed: "Завершенные",
        cancelled: "Отмененные",
        emptyTitle: "Заказов пока нет",
        emptyDescription: "Вы еще не совершали покупок.",
        startShopping: "Начать покупки",
        filter: "Фильтр заказов",
        sort: "Сортировать по",
        search: "Поиск заказов...",
        order: "Заказ",
        date: "Дата",
        items: "Товары",
        amount: "Сумма",
        status: "Статус",
        viewDetails: "Подробнее",
        trackOrder: "Отследить заказ",
        reorder: "Повторить заказ",
        writeReview: "Написать отзыв",
        cancelOrder: "Отменить заказ",
        returnItem: "Вернуть товар",
        buyAgain: "Купить снова",
        invoice: "Смотреть счет",
        downloadInvoice: "Скачать счет",
        needHelp: "Нужна помощь с заказом?",
        contactSupport: "Связаться с поддержкой",
        estimatedDelivery: "Примерная доставка",
        deliveredOn: "Доставлен",
        orderPlaced: "Заказ оформлен",
        orderTotal: "Итого",
        shippingAddress: "Адрес доставки",
        paymentMethod: "Способ оплаты",
        orderSummary: "Детали заказа",
      },
      sortOptions: {
        newest: "Сначала новые",
        oldest: "Сначала старые",
        highestAmount: "По сумме (убыв.)",
        lowestAmount: "По сумме (возр.)",
      },
      orderDetails: {
        statusPending: 'Ваш заказ проверяется',
        statusConfirmed: 'Заказ подтвержден, готовим к отправке',
        statusProcessing: 'Обрабатываем ваш заказ',
        statusShipped: 'Ваш заказ в пути',
        statusDelivered: 'Ваш заказ доставлен',
        statusCancelled: 'Заказ отменен',
        statusReturned: 'Заказ возвращен',
        tracking: 'Информация об отслеживании',
        notes: 'Примечания к заказу',
        cannotOpenInvoice: 'Не удается открыть счет. Попробуйте позже.',
        invoiceError: 'Ошибка при открытии счета',
        supportMessage: 'Как вы хотите связаться с нашей поддержкой?',
        noFilterResults: 'Нет заказов, соответствующих фильтрам',
        trackingNotAvailable: 'Информация об отслеживании временно недоступна.',
        reorderConfirm: 'Добавить все товары из этого заказа в корзину?',
        reorderSuccess: 'Товары добавлены в корзину!',
        cancelSuccess: 'Заказ успешно отменен',
      },
    },
  },
};

// Функция для получения сохраненного языка
const languageDetector = {
  type: 'languageDetector' as const,
  async: true,
  detect: async (callback: (lang: string) => void) => {
    try {
      const savedLanguage = await AsyncStorage.getItem('user-language');
      if (savedLanguage) {
        callback(savedLanguage);
      } else {
        const deviceLanguage = Localization.locale.split('-')[0];
        callback(['en', 'ru'].includes(deviceLanguage) ? deviceLanguage : 'en');
      }
    } catch (error) {
      console.error('Error detecting language:', error);
      callback('en');
    }
  },
  init: () => {},
  cacheUserLanguage: async (language: string) => {
    try {
      await AsyncStorage.setItem('user-language', language);
    } catch (error) {
      console.error('Error saving language:', error);
    }
  },
};

i18n
  .use(languageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'en',
    interpolation: {
      escapeValue: false,
    },
    compatibilityJSON: 'v3',
  });

export default i18n;